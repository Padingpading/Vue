<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>基本列表</title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<div id="root">
			<!-- 遍历数组 -->
			<h3>人员列表(遍历数组)</h3>
			<input type="text" placeholder="请输入名字" v-model="keyWord">
			<ul v-for="(p,index) of filPersons" :key="index">{{p.name}},{{p.age}}-{{p.sex}}</ul>
		</div>
		
	</body>

	<script type="text/javascript">
		Vue.config.productionTip = false
		
		const vm = new Vue({
			el:'#root',
			data:{
				keyWord:"",
				persons:[
					{id:"001",name:"马冬梅",age:19,sex:'女'},
					{id:"002",name:"周冬雨",age:20,sex:'女'},
					{id:"003",name:"周杰伦",age:21,sex:'男'},
					{id:"004",name:"温兆伦",age:22,sex:'男'}
				],
				filPersons:[]
			},																										
			watch:{
				keyWord:{
					// 第一次刷新
					immediate:true,
					handler(val){
						this.filPersons=this.persons.filter((p)=>{
					// indexOf: 没有匹配到返回-1,空串返回0,匹配到返回1
						return p.name.indexOf(val)!=-1		
					})
				}
			}}
		})
	</script>
</html>